!function(e){var t={};function a(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(l,n,function(t){return e[t]}.bind(null,n));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"use strict";function t(e,t,a){var l,n,o=a,i=function(t){var a=o.includes(parseInt(t.id))?" checked":"",l='<input type="checkbox" class="form-control checkbox" name="'+e+'" value="'+t.id+'"'+a+">";return l+='<label for="'+t.id+'">'+t.text+"</label>"};return n=[],(l=o).length>0&&l.forEach((function(e){n.push(parseInt(e))})),o=n,function t(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0===l?'<ul class="list '+e+'">':'<ul class="children">';return a.forEach((function(e){var a=!1;e.hasOwnProperty("subcat")&&Array.isArray(e.subcat)&&e.subcat.length&&(a=!0),n+="<li>",n+=i(e),a&&(n+=t(e.subcat,1)),n+="</li>"})),n+="</ul>"}(t)}var a={},n={},o={},i={},r={},s={},c=pro_woo_filter,d=c.setting_fields,p=c.translated_text;function u(e,t,a){var l=document.querySelector(e);l.classList.add("animated",t),l.addEventListener("animationend",(function e(){l.classList.remove("animated",t),l.removeEventListener("animationend",e),"function"==typeof a&&a()}))}function m(){return'<div class="alert-danger" role="alert">'+p.required_field+"</div>"}function f(){return'<div class="alert-danger" role="alert">'+p.unique_field+"</div>"}function _(){return'<span class="alert-message"><strong>Erorr: </strong>'+p.ajax_fail+"</span>"}function v(){return 0!==e(".panel-group").find(".item-panel").length?"item_panel":"setting_panel"}e.fn.getType=function(){return"INPUT"==this[0].tagName?this[0].type.toLowerCase():this[0].tagName.toLowerCase()};var g={init:function(t,a){return!!e.isEmptyObject(n)||!g.getUrlKeys(a).includes(t)},getUrlKeys:function(e){for(var t=[],a=0,l=Object.keys(n);a<l.length;a++){var o=l[a],i=n[o];o!==e&&(t.push(i.url_key),i.hasOwnProperty("url_key_min_price")&&t.push(i.url_key_min_price),i.hasOwnProperty("url_key_max_price")&&t.push(i.url_key_max_price),i.hasOwnProperty("url_key_date_after")&&t.push(i.url_key_date_after),i.hasOwnProperty("url_key_date_before")&&t.push(i.url_key_date_before),i.hasOwnProperty("url_key_range_slider_min")&&t.push(i.url_key_range_slider_min),i.hasOwnProperty("url_key_range_slider_max")&&t.push(i.url_key_range_slider_max))}return t}};function h(e){return!!n.hasOwnProperty(e)&&n[e]}var y=0,b={generateFilterItemID:function(){return"id-"+e(".filter-item").length},generateFilterItems:function(e){for(var t="",a=0,l=Object.keys(e);a<l.length;a++){var o=e[l[a]];n[y]=o,"column"===o.item_type?(t+=b.newColumnStart(y),o.hasOwnProperty("children")&&(y++,t+=b.generateFilterItems(o.children)),t+=b.newColumnEnd()):(t+=b.addNewItem(o.item_type,y,o.title),y++)}return t},createFilterItems:function(e){var t=b.generateFilterItems(e);b.appendItem(t)},addNewItem:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l="";return""===a&&(a="new filter"),l+='<div class="filter-item" data-filter-id="'+t+'"><div class="filter-header">',l+='<div class="head-title"><span class="filter-title text-bold">',l+=a,l+='</span><span class="filter-type">'+e+"</span>",l+="</div>",l+='<div class="btn-actions">',l+='<span class="btn-link edit-action">'+p.edit+"</span>",l+='<span class="btn-link remove-action">'+p.remove+"</span>",l+="</div>",l+="</div></div>"},newColumnStart:function(e){var t='<div class="filter-item column" data-layout="column" data-filter-id="'+e+'">';return t+='<div class="filter-header">',t+='<div class="head-title"><span class="filter-title text-bold">',t+="Column",t+="</div>",t+='<div class="btn-actions">',t+='<span class="btn-link edit-action">Edit</span>',t+='<span class="btn-link remove-action">Remove</span>',t+="</div>",t+="</div>",t+='<div class="container"><div class="column-inner group-list">'},newColumnEnd:function(){return"</div></div></div>"},addNewColumn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=b.newColumnStart(e);return a+=t,a+=b.newColumnEnd()},removeItem:function(t){var a=[],o=t.closest(".filter-item").attr("data-filter-id");a.push(o),delete n[o];var i=e(t).closest(".filter-item").attr("data-layout");if("undefined"!==l(i)&&!1!==i&&"column"===i){var r=e(t).closest(".filter-item").find(".column-inner").children(".filter-item");e(r).each((function(t,l){var o=e(l).attr("data-filter-id");a.push(o),delete n[o]}))}t.closest(".filter-item").remove(),b.initSortEvent(),x.displayPanel("removeitem","",a)},appendItem:function(t){e(".append-filter-items").append(t),b.initSortEvent()},initSortEvent:function(){e(".filters-list").hasClass("ui-sortable")?e(".filters-list").sortable("refresh"):e(".filters-list").sortable({handle:".filter-header",connectWith:".group-list",placeholder:"ui-state-highlight",forcePlaceholderSize:!0,opacity:.8,helper:"clone",start:function(t,a){var l=e(this).width();e(a.helper).width(l)}}),e(".append-filter-items .group-list").length>0&&e(".group-list").each((function(){e(this).hasClass("ui-sortable")?e(this).sortable("refresh"):e(this).sortable({handle:".filter-header",connectWith:".filters-list",placeholder:"ui-state-highlight",forcePlaceholderSize:!0,opacity:.8,helper:"clone",start:function(t,a){var l=e(this).width();e(a.helper).width(l)}})}))},addActiveCssClass:function(t){e(".filters-list").find("[data-filter-id="+t+"]").addClass("active-item")},removeActiveCssClass:function(){e(".filters-list .filter-item").removeClass("active-item")}};var w={config:{},init:function(t){w.config={field:"",panelType:"",FilterItemID:"",defaultValues:[]},e.extend(w.config,t);var a="";switch(w.config.field.type){case"text":a=w.inputTextField();break;case"number":a=w.inputTextNumber();break;case"radio":a=w.inputRadioButton();break;case"dropdown":a=w.dropdownMenuField();break;case"multicheckbox":a=w.multicheckboxField();break;case"switchbutton":a=w.switchButtonField();break;case"ajaxdropdown":a=w.ajaxdropdown();break;case"ajaxdropdownselect2":a=w.ajaxdropdownselect2();break;case"ajaxmulticheckboxlist":a=w.ajaxMultiCheckboxList();break;case"ajaxcolor":a=w.ajaxColorField();break;case"displayrules":a=w.displayRulesField.displayRules(w.config.field,w.config.defaultValues);break;case"metafield":a=w.metaField();break;case"boxlistlabel":a=w.boxlistlabel()}return a},fieldWrapStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""===e&&(e=w.config.field);var t='<div class="control-group';return t+="radio"===e.type?" inline-radio-buttons":"",t+="ajaxcolor"===e.type?" no-padding":"",t+='">',t+='<div class="control-label">',t+='<span class="label-text">',t+=e.title,e.hasOwnProperty("required")&&"true"===e.required&&(t+='<abbr class="required" title="required">*</abbr>'),t+="</span>",e.hasOwnProperty("description")&&""!==e.description&&(t+='<span class="description">'+e.description+"</span>"),t+="</div>",t+='<div class="control-content">'},fieldWrapEnd:function(){return"</div></div>"},inputTextField:function(){var e=w.config.field,t=w.config.defaultValues,a='<input type="text" name="'+e.param_name+'"';return a+=' class="form-control full-width text',e.hasOwnProperty("cssclass")&&""!==e.cssclass&&(a+=" "+e.cssclass),a+='"',t.hasOwnProperty(e.param_name)?a+=' value="'+t[e.param_name]+'"':e.hasOwnProperty("default")?a+=' value="'+e.default+'"':a+=' value=""',e.hasOwnProperty("placeholder")&&""!==e.placeholder&&(a+=' placeholder="'+e.placeholder+'"'),e.hasOwnProperty("required")&&"true"===e.required&&(a+=' aria-required="true"'),a+="/>",w.fieldWrapStart()+a+w.fieldWrapEnd()},inputTextNumber:function(){var e=w.config.field,t=w.config.defaultValues,a='<input type="number" name="'+e.param_name+'"';return a+=' class="form-control number',e.hasOwnProperty("cssclass")&&""!==e.cssclass&&(a+=" "+e.cssclass),a+='"',t.hasOwnProperty(e.param_name)?a+=' value="'+t[e.param_name]+'"':e.hasOwnProperty("default")?a+=' value="'+e.default+'"':a+=' value=""',e.hasOwnProperty("required")&&"true"===e.required&&(a+=' aria-required="true"'),e.hasOwnProperty("min")&&(a+=' min="'+e.min+'"'),e.hasOwnProperty("max")&&(a+=' max="'+e.max+'"'),a+="/>",w.fieldWrapStart()+a+w.fieldWrapEnd()},inputRadioButton:function(){var e=w.config.field,t=w.config.defaultValues,a="",l="",n=t.hasOwnProperty(e.param_name)?t[e.param_name]:e.default,o=!1;return e.hasOwnProperty("display")&&"list"===e.display&&(o=!0,a+='<ul class="radio-list '+e.param_name+'">'),e.options.forEach((function(t){l="",n===t.id&&(l=" checked"),o&&(a+="<li>"),a+='<span class="pwf-radio-item"><input type="radio" name="'+e.param_name+'" value="'+t.id+'"'+l+'> <label for="'+t.id+'">'+t.text+"</label></span>",o&&(a+="</li>")})),o&&(a+="</ul>"),w.fieldWrapStart()+a+w.fieldWrapEnd()},dropdownMenuField:function(){var t=w.config.field,a=w.config.defaultValues,l="",n="";return a.hasOwnProperty(t.param_name)?n=a[t.param_name]:t.hasOwnProperty("default")&&(n=t.default),l+='<select name="'+t.param_name+'"',l+=' class="form-control full-width dropdown',t.hasOwnProperty("cssclass")&&""!==t.cssclass&&(l+=" "+t.cssclass),e.isEmptyObject(t.options)&&(l+=" pwf-hidden"),l+='"',!e.isEmptyObject(t.options)&&t.hasOwnProperty("required")&&"true"===t.required&&(l+=' aria-required="true"'),l+=">",t.options.forEach((function(e){l+='<option value ="'+e.id+'"',l+=e.id==n?" selected":"",l+=">"+e.text+"</option>"})),l+="</select>",e.isEmptyObject(t.options)&&(l+="<ul><li>"+p.no_option+"</li></ul>"),w.fieldWrapStart()+l+w.fieldWrapEnd()},multicheckboxField:function(){var e=w.config.field,t=w.config.defaultValues,a="",l=[],n='<div class="check-box-list"><ul class="list '+e.param_name+'">';return t.hasOwnProperty(e.param_name)&&""!==t[e.param_name]?l=t[e.param_name]:e.hasOwnProperty("default")&&(l=e.default),e.options.forEach((function(t){a=l.includes(t.id)?" checked":"",n+='<li><input type="checkbox" class="form-control checkbox" name="'+e.param_name+'" value="'+t.id+'"'+a,e.hasOwnProperty("required")&&"true"===e.required&&(n+=' aria-required="true"'),n+='> <label for="'+t.id+'">'+t.text+"</label></li>"})),n+="</ul></div>",w.fieldWrapStart()+n+w.fieldWrapEnd()},switchButtonField:function(){var e=w.config.field,t=w.config.defaultValues,a="",l="";return t.hasOwnProperty(e.param_name)?l="on"===t[e.param_name]?" checked":"":e.hasOwnProperty("default")&&"on"===e.default&&(l=" checked"),a+='<div class="ckbx-style-15 switch-btn">',a+='<input id="pwf-'+e.param_name+'" type="checkbox" name="'+e.param_name+'" class="form-control checkbox-switch-field',e.hasOwnProperty("cssclass")&&""!==e.cssclass&&(a+=" "+e.cssclass),a+='"'+l+'><label for="pwf-'+e.param_name+'" class="slider-btn"></label></div>',w.fieldWrapStart()+a+w.fieldWrapEnd()},ajaxdropdown:function(){var e='<div class="dropdown-list ajax-dropdown-field-'+w.config.field.param_name+'"></div>';return w.fieldWrapStart()+e+w.fieldWrapEnd()},ajaxdropdownselect2:function(){var t=w.config.field,a=w.config.defaultValues,l="",n=[];return a.hasOwnProperty(t.param_name)&&""!==a[t.param_name]?n=a[t.param_name]:t.hasOwnProperty("default")&&(n=t.default),l+='<select name="'+t.param_name+'"',l+=' class="form-control full-width dropdown pwf-select2',t.hasOwnProperty("cssclass")&&""!==t.cssclass&&(l+=" "+t.cssclass),e.isEmptyObject(t.options)&&(l+=" pwf-hidden"),l+='"',!e.isEmptyObject(t.options)&&t.hasOwnProperty("required")&&"true"===t.required&&(l+=' aria-required="true"'),l+=' multiple="multiple">',t.options.forEach((function(e){l+='<option value ="'+e.id+'"',l+=n.includes(e.id)?" selected":"",l+=">"+e.text+"</option>"})),l+="</select>",e.isEmptyObject(t.options)&&(l+="<ul><li>"+p.no_option+"</li></ul>"),w.fieldWrapStart()+l+w.fieldWrapEnd()},ajaxMultiCheckboxList:function(){var e='<div class="check-box-list ajax-field-'+w.config.field.param_name+'"></div>';return w.fieldWrapStart()+e+w.fieldWrapEnd()},ajaxColorField:function(){var e='<div class="color-list '+w.config.field.param_name+'"></div>';return w.fieldWrapStart()+e+w.fieldWrapEnd()},metaField:function(){var e=w.config.field,t=w.config.defaultValues,a='<div class="check-box-list pwf-meta-field-box">';return a+='<div class="inner-meta-field">',a+='<div id="meta-field-items" class="meta-field-items">',t.hasOwnProperty(e.param_name)&&""!==t[e.param_name]&&(a+=P.createMetaFields(w.config.panelType,t[e.param_name])),a+="</div>",a+="</div>",a+='<div class="meta-fields-button"><button class="button pwf-add-new-meta">'+p.add_new+"</button></div>",a+="</div>",w.fieldWrapStart()+a+w.fieldWrapEnd()},boxlistlabel:function(){return w.fieldWrapStart()+'<div class="pwf-box-list-label box-list-label-require-ajax"></div>'+w.fieldWrapEnd()},ajaxdropdownfield:function(e,t){var a="";return a+='<select name="item_source_taxonomy_sub"',a+=' class="form-control full-width dropdown"',a+=">",e.forEach((function(e){a+='<option value ="'+e.id+'"',a+=e.id==t?" selected":"",a+=">"+e.text+"</option>"})),a+="</select>"},boxlistlabelfields:function(e,t){var a="";return e.forEach((function(e){var l="";if(Array.isArray(t)&&t.length){var n=t.find((function(t){return t.term_id==e.id}));n&&(l=n.value)}a+='<div class="lable-item" data-item-label-id="'+e.id+'">',a+='<div class="lable-item-text">'+e.text+"</div>",a+='<div class="lable-item-input"><input type="text" class="form-control full-width text item-value" value="'+l+'" /></div>',a+="</div>"})),a},displayRulesField:{displayRules:function(e,t){var a="";if(a+="<div><strong>"+p.rule_text_if+"</strong></div>",a+='<div class="display-rules-container">',t.hasOwnProperty(e.param_name)&&(t=t[e.param_name]),Array.isArray(t)&&t.length){var l=t,n=0;a+=w.displayRulesField.ruleWrapStart(),l.forEach((function(e){var t={rule_id:n,param:e.param,equal:e.equal,value:e.value};a+=w.displayRulesField.ruleTemplate(t),n++})),a+=w.displayRulesField.ruleWrapEnd()}else{a+=w.displayRulesField.ruleWrapStart();a+=w.displayRulesField.ruleTemplate({rule_id:0,param:"category",equal:"",value:""}),a+=w.displayRulesField.ruleWrapEnd()}return a+="</div>",w.fieldWrapStart(e)+a+w.fieldWrapEnd()},ruleTemplate:function(e){var t="",a=c.display_rule_data.param,l="",n="";if("category"===e.param||i.hasOwnProperty(e.param)||(n=' data-select2-ajax-param="'+e.param+'" data-select2-ajax-value="'+e.value+'"',l=" transparent"),t+='<div class="rule pwf-rule five-col-grid'+l+'" data-rule-id="'+e.rule_id+'">',t+='<div class="rule-item rule-param">',t+='<select name="rule[rule_'+e.rule_id+'][param]" class="form-control full-width field-rule-param">',a.forEach((function(a){t+='<option value ="'+a.id+'"',t+=a.id===e.param?" selected":"",t+=">"+a.text+"</option>"})),t+="</select>",t+="</div>",t+='<div class="rule-item rule-equal">',t+="<span>"+p.equalto+"</span>",t+="</div>",t+='<div class="rule-item rule-value">',t+='<select name="rule[rule_'+e.rule_id+'][value]" class="form-control full-width field-rule-value-select2"'+n+">","category"===e.param)c.product_categories.forEach((function(a){t+='<option value ="'+a.id+'"',t+=a.id===e.value?" selected":"",t+=">"+a.text+"</option>"}));else if(i.hasOwnProperty(e.param)){var o=i[e.param];t+=w.displayRulesField.ruleOptgroup(o,e.value)}return t+="</select>",t+="</div>",t+='<div class="rule-item rule-add">',t+='<button class="button add-rule">'+p.rule_text_or+"</button>",t+="</div>",t+='<div class="rule-item rule-delete">',0!==e.rule_id&&(t+='<button class="button button-link-delete remove-rule">-</button>'),t+="</div>",t+="</div>"},ruleWrapStart:function(){return'<div class="rule-group">'},ruleWrapEnd:function(){return"</div>"},ruleOptgroup:function(e,t){var a="";return e.forEach((function(e){e.hasOwnProperty("children")?(a+='<optgroup label="'+e.text+'">',e.children.forEach((function(e){a+='<option value ="'+e.id+'"',a+=e.id==t?" selected":"",a+=">"+e.text+"</option>"})),a+="</optgroup>"):(a+='<option value ="'+e.id+'"',a+=e.id==t?" selected":"",a+=">"+e.text+"</option>")})),a},addNewRule:function(t){var a=e(t).closest(".rule").attr("data-rule-id"),l={rule_id:Number(a)+1,param:"category",equal:"",value:""},n=w.displayRulesField.ruleTemplate(l);e(t).closest(".rule-group").append(n),k.initEventRuleDisplayField()},removeRule:function(t){var a=e(t).closest(".rule");e(a).remove()}},colorFields:function(e,t,a){var l="";return t.forEach((function(e){var t="",n="",o="color",i="",r="light";if(Array.isArray(a)&&a.length){var s=a.find((function(t){return t.term_id==e.id}));s&&(t=s.color,n=s.image,o=s.type,i=s.bordercolor,r=s.marker)}l+='<div class="color-item" term-id="'+e.id+'">',l+='<div class="color-inner">',l+='<div class="color-term-header">',l+='<div class="preview-term-container"><div class="preview-holder"'+("color"===o&&""!==t?" style=background-color:"+t:"")+">","image"===o&&""!==n&&(l+='<img class="preview-image" src="'+n+'">'),l+="</div></div>",l+='<div class="term-name-container"><span class="term-name">'+e.text+"</span></div>",l+="</div>",l+='<div class="color-term-content">',l+='<div class="inner-fields">';var c="color"===o?"":" hidden";l+='<div class="container list-container">',l+='<div class="color-container'+c+'">',l+='<div class="header"><span class="text">'+p.color+"</span></div>",l+='<div class="content">',l+='<input type="text" name="color-'+e.id+'" class="color-field" value="'+t+'"/>',l+="</div>",l+="</div>",l+='<div class="image-container'+(c="image"===o?"":" hidden")+'">',l+='<div class="header"><span class="text">'+p.image+"</span></div>",l+='<div class="content">',l+='<input type="text" name="image'+e.id+'" class="text hidden image-field" value="'+n+'"/>',l+='<button class="button btn-upload-image">'+p.upload_image+"</button>",l+="</div>",l+="</div>",l+="</div>",l+='<div class="type-container list-container">',l+='<div class="header"><span class="text">'+p.type+"</span></div>",l+='<div class="content"><div class="radio-as-button">';var d="color"===o?" checked":"";l+='<span class="field-type"><input type="radio" class="type-field" id="color-'+e.id+'" name="type'+e.id+'" value="color"'+d+'/> <label for="color">'+p.color+"</label></span>",d="image"===o?" checked":"",l+='<span class="field-type"><input type="radio" class="type-field" id="thumb-'+e.id+'" name="type'+e.id+'" value="image"'+d+'/> <label for="image">'+p.image+"</label></span>",l+="</div></div>",l+="</div>",l+="</div>",l+='<div class="inner-fields">',l+='<div class="border-container list-container">',l+='<div class="header"><span class="text">'+p.border+"</span></div>",l+='<div class="content"><div class="wrap-color">',l+='<input type="text" class="bordercolor-field" name="bordercolor'+e.id+'" class="color-field" value="'+i+'"/>',l+="</div></div>",l+="</div>",l+='<div class="marker-container list-container">',l+='<div class="header"><span class="text">'+p.marker+"</span></div>",l+='<div class="content"><div class="radio-as-button">',d="light"===r?" checked":"",l+='<span class="field-type"><input type="radio" class="marker-field" id="markerlight-'+e.id+'" name="marker'+e.id+'" value="light"'+d+'/> <label lass="field-type-text">'+p.marker_light+"</label></span>",d="dark"===r?" checked":"",l+='<span class="field-type"><input type="radio" class="marker-field" id="markerdark-'+e.id+'" name="marker'+e.id+'" value="dark"'+d+'/> <label lass="field-type-text">'+p.marker_dark+"</label></span>",l+="</div></div>",l+="</div>",l+="</div>",l+="</div>",l+="</div>",l+="</div>"})),l}},x={config:{},init:function(t){return x.config={panelType:"",FilterItemID:"",defaultValues:[],requireValidate:"false",displayVisualTab:!1,predefinedPanel:""},e.extend(x.config,t),x.panelTemplate()},getPanelFields:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=[],l=[],n=pro_woo_filter.panel_feilds;""===t&&(t=x.config.panelType),n.forEach((function(n){-1!=e.inArray(t,n.panel)&&("general"===n.group?a.push(n):"visual"===n.group&&l.push(n))}));var o={general:a,visual:l};return o},panelTemplate:function(){var e="",t=x.getPanelFields(),a=t.general,l=t.visual;Array.isArray(l)&&l.length&&(x.config.displayVisualTab=!0);var n={panelType:x.config.panelType,defaultValues:x.config.defaultValues};return e+=x.panelHeader(),e+=x.tabStartGeneral(),a.forEach((function(t){n.field=t,n.defaultValues=x.config.defaultValues,n.defaultValues.length<1&&("radiolist"===x.config.panelType&&"stockstatus"===x.config.predefinedPanel&&("title"===t.param_name&&(n.defaultValues={title:"Stock status"}),"url_key"===t.param_name&&(n.defaultValues={url_key:"stock-status"}),"source_of_options"===t.param_name&&(n.defaultValues={source_of_options:"stock_status"})),"checkboxlist"===x.config.panelType&&"productcategories"===x.config.predefinedPanel&&("title"===t.param_name&&(n.defaultValues={title:"Product categories"}),"url_key"===t.param_name&&(n.defaultValues={url_key:"product-category"})),"priceslider"===x.config.panelType&&"url_key"===t.param_name&&(n.defaultValues={url_key:"price"}),"search"===x.config.panelType&&(n.defaultValues={url_key:"s",title:"Search"}),"rangeslider"===x.config.panelType&&"source_of_options"===n.field.param_name&&(n.field.default="attribute")),e+=w.init(n)})),e+=x.tabEndWrap(),x.config.displayVisualTab&&(e+=x.tabStartVisual(),l.forEach((function(t){n.field=t,e+=w.init(n)})),e+=x.tabEndWrap()),e+=x.panelFooter()},panelHeader:function(){var e="";return e+='<div class="panel-item item-panel postbox status-active-panel panel-'+x.config.panelType+'" data-filter-panel-id="'+x.config.FilterItemID+'" data-required-validate="'+x.config.requireValidate+'" data-panel-type="'+x.config.panelType+'">',e+='<div class="panel-container">',e+='<div class="panel-header">',e+='<div class="wrap-title"><h2 class="panel-title"><span class="link-back">< '+p.btn_back+"</span>"+x.config.panelType+"</h2></div>",e+='<div class="tabs-nav">',e+='<span class="nav-tab-heading nav-general active-tab" data-tab-id="general">'+p.general+"</span>",x.config.displayVisualTab&&(e+='<span class="nav-tab-heading nav-selectors" data-tab-id="visual">'+p.visual+"</span>"),e+="</div>",e+="</div>",e+='<div class="inside">',e+='<form class="option-panel-form">',e+='<div class="wrap-tabs">'},panelFooter:function(){var e="",t="false"===x.config.requireValidate?" disabled":"";return e="</div></form>",e+='<div class="panel-nav">',e+='<button class="button reset-panel-button">'+p.btn_reset+"</button>",e+='<button class="button apply-panel-button"'+t+">"+p.btn_apply+"</button>",e+="</div>",e+="</div>",e+="</div>",e+="</div>"},tabStartGeneral:function(){return'<div class="tab-content active-tab" data-tab-id="general">'},tabStartVisual:function(){return'<div class="tab-content" data-tab-id="visual">'},tabEndWrap:function(){return"</div>"},editPanel:function(t){if(j.processingPanel()){var a="",l=[],n=e(t).closest(".filter-item").attr("data-filter-id"),o=h(n);if(o){if(l=o,s.hasOwnProperty(n))a=s[n];else{var i={panelType:l.item_type,FilterItemID:n,defaultValues:l,requireValidate:"false",predefinedPanel:""};a=x.init(i)}x.displayPanel("edititem",a,n)}}},apply_panel_button:function(){j.processingPanel()},backLinkButton:function(){x.displayPanel("backfromeditpanel")},resetPanel:function(){var t=v();if("item_panel"===t){var a=e(".panel-group .item-panel").attr("data-panel-type"),l=e(".panel-group .item-panel").attr("data-filter-panel-id"),n=x.getPanelFields(a),o=n.general,i=n.visual,r=e.merge(o,i);r.forEach((function(t){if("multicheckbox"===t.type||"ajaxmulticheckboxlist"===t.type){var a=t.default;e(t.options).each((function(l,n){e("[name="+t.param_name+"]").prop("checked",!1),-1!=e.inArray(n.id,a)&&e('[name="'+t.param_name+'"]').prop("checked",!0).trigger("change")}))}else"switchbutton"===t.type?(e("[name="+t.param_name+"]").prop("checked",!1),t.hasOwnProperty("default")&&"on"===t.default&&e('[name="'+t.param_name+'"]').prop("checked",!0).trigger("change")):"radio"===t.type?(e("[name="+t.param_name+"]").checked=!1,e(t.options).each((function(a,l){t.default==l.id&&e('[name="'+t.param_name+'"][value="'+l.id+'"]').prop("checked",!0).trigger("change")}))):e('.option-panel-form [name="'+t.param_name+'"]').val(t.default).trigger("change")})),e(".filter-items-panel").find("[data-filter-id="+l+"]").find(".filter-title").text(r.title),e("ul.exclude").closest(".control-group").slideUp("fast"),e("ul.include").closest(".control-group").slideUp("fast"),j.addAttributeRequiredValidate(t,"true")}else{var s=e(".setting-panel-form :input");e(s).each((function(t,a){e(a).hasClass("text")?e(a).val(e(a).attr("data-default-value")):e(a).hasClass("checkbox")?Array.isArray(a)&&a.length?e(a).each((function(t,a){"checked"===e(a).attr("data-default-value")?e(a).prop("checked",!0):e(a).prop("checked",!1)})):"checked"===e(a).attr("data-default-value")?e(a).prop("checked",!0):e(a).prop("checked",!1):e(a).hasClass("dropdown")?e(a).val(e(a).attr("data-default-value")):e(a).hasClass("checkbox-switch-field")&&("on"===e(a).attr("data-default-value")?e(a).prop("checked",!0):e(a).prop("checked",!1))})),j.addAttributeRequiredValidate(t,"true")}},displayPanel:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o="slideOutRight",i="slideInRight";if(e("body").hasClass("rtl")&&(o="slideOutLeft",i="slideInLeft"),"backfromfiltertypepanel"===t)b.removeActiveCssClass(),u(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").find(".status-unactive-panel").removeClass("status-unactive-panel").addClass("status-active-panel"),u(".status-active-panel",i,(function(){}))}));else if("backfromeditpanel"===t)j.processingPanel()&&(b.removeActiveCssClass(),u(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").find(".status-unactive-panel").addClass("status-active-panel").removeClass("status-unactive-panel"),u(".status-active-panel",i,(function(){}))})));else if("removeitem"===t){var r="";if(Array.isArray(l)&&l.length)for(var s=0;s<l.length;s++)if(0!==e(".panel-group").find('[data-filter-panel-id="'+l[s]+'"]').length){r=l[s];break}""!==r&&(b.removeActiveCssClass(),u(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").find(".status-unactive-panel").addClass("status-active-panel").removeClass("status-unactive-panel"),u(".status-active-panel",i,(function(){}))})))}else"additem"===t?0===e(".panel-group").find(".panel-filter-type").length&&(b.removeActiveCssClass(),e(".panel-group").find(".item-panel").length>0?u(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").append(a),u(".status-active-panel",i,(function(){}))})):u(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").addClass("status-unactive-panel").removeClass("status-active-panel"),e(".panel-group").append(a),u(".status-active-panel",i,(function(){}))}))):"edititem"===t?0===e(".panel-group").find('[data-filter-panel-id="'+l+'"]').length&&(b.removeActiveCssClass(),e(".panel-group").find(".item-panel").length>0?u(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").append(a),b.addActiveCssClass(l),P.sortEvent(),P.colorFieldEvent(),k.initEditPanelEvent(),u(".status-active-panel",i,(function(){}))})):u(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").addClass("status-unactive-panel").removeClass("status-active-panel"),e(".panel-group").append(a),b.addActiveCssClass(l),P.sortEvent(),P.colorFieldEvent(),k.initEditPanelEvent(),u(".status-active-panel",i,(function(){}))}))):"additemtype"===t&&(b.removeActiveCssClass(),e(".panel-group").find(".item-panel").length,u(".status-active-panel",o,(function(){e(".panel-group").find(".status-active-panel").remove(),b.appendItem(n),e(".panel-group").append(a),k.initEditPanelEvent(),P.sortEvent(),P.colorFieldEvent(),u(".status-active-panel",i,(function(){}))})))}},k={getSourceOptionsData:function(){var t={doAjax:!1,data:"",args:"",cachedTaxonomyName:""},a="",l="",n="",i=e('[name="source_of_options"]').val();"category"===i?(a=e('[name="item_source_category"]').val(),l="product_cat",n="item_source_category"):"attribute"===i?(l=e('[name="item_source_attribute"]').val(),n="item_source_attribute"):"taxonomy"===i&&(a=e('[name="item_source_taxonomy_sub"]').val(),l=e('[name="item_source_taxonomy"]').val(),n="item_source_taxonomy");var r=i+a+l+n;return t.cachedTaxonomyName=r,o.hasOwnProperty(r)?t.data=o[r]:(t.doAjax=!0,t.args={source_of_option:i,taxonomy_name:l,parent:a}),t},DisplayOrHideIncludeExludeFields:function(){var t=e('[name="item_display"]').val(),a=e(".ajax-field-include").closest(".control-group"),l=e(".ajax-field-exclude").closest(".control-group");"selected"==t?(a.show(),l.hide()):"except"==t?(l.show(),a.hide()):(l.hide(),a.hide()),e('[name="item_display"]').change((function(){var t=e(this).val();"selected"==t?(a.slideDown("fast"),l.slideUp("fast")):"except"==t?(l.slideDown("fast"),a.slideUp("fast")):(l.slideUp("fast"),a.slideUp("fast"))}))},displayParentOption:function(){var t=e('[name="source_of_options"]').val();"category"===t||"taxonomy"===t?e('[name="item_display"] option[value="parent"]').show():(e('[name="item_display"] option[value="parent"]').hide(),"parent"==e('[name="item_display"]').val()&&e('[name="item_display"]').val("all"));if(e(".panel-item.item-panel").hasClass("panel-rangeslider")){var a=e('[name="source_of_options"]');"category"===a.val()&&e(a).val("attribute"),e(a).find('option[value="category"]').hide(),e(a).find('option[value="tag"]').hide(),e(a).find('option[value="orderby"]').hide(),e(a).find('option[value="author"]').hide(),e(a).find('option[value="stock_status"]').hide()}},colorFieldEvent:function(){e(".color-field").wpColorPicker({border:!0,change:function(t,a){j.addAttributeRequiredValidate("item_panel","true"),e(this).closest(".color-item").find(".preview-image").length>0&&e(this).closest(".color-item").find(".preview-image").remove(),e(this).closest(".color-item").find(".preview-holder").css("background-color",a.color.toString())}}),e(".bordercolor-field").wpColorPicker({border:!0,change:function(e,t){j.addAttributeRequiredValidate("item_panel","true")}})},fillAjaxColorFields:function(){var t="",a=[],l=e('[name="source_of_options"]').val();if("meta"!=l){if(e(".color-list").closest(".control-group").show(),"item_panel"===v()){var n=h(e(".panel-group .item-panel").attr("data-filter-panel-id"));n&&(a=n.colors)}var i=k.getSourceOptionsData();if(!1===i.doAjax){var r=i.data;t=w.colorFields("colors",r,a),e(".color-list").empty(),e(".color-list").append(t),k.colorFieldEvent()}else{e(".color-list").closest(".control-group").addClass("transparent");var s=C("get_taxonomies_using_ajax",i.args);s.done((function(l){"false"===l.isempty?(o[i.cachedTaxonomyName]=l.data,t=w.colorFields("colors",l.data,a)):t='<li class="alert-message">'+l.message+"</li>",e(".color-list").closest(".control-group").removeClass("transparent"),e(".color-list").empty(),e(".color-list").append(t),k.colorFieldEvent()})),s.fail((function(a,l,n){t='<li class="alert-message">'+_()+"</li>",e(".color-list").empty(),e(".color-list").append(t),e(".color-list").closest(".control-group").removeClass("transparent")}))}}else e(".color-list").closest(".control-group").hide()},changeTaxonomyDropdowList:function(){var t="",a="",l=e('[name="source_of_options"]').val(),n=e('[name="item_source_taxonomy"]').val(),i=e('[name="item_source_taxonomy_sub"]').val();if("taxonomy"===l){if("item_panel"===v()){var r=h(e(".panel-group .item-panel").attr("data-filter-panel-id"));r&&"taxonomy"===r.source_of_options&&(a=r.item_source_taxonomy_sub)}var s="taxonomysubchildren"+l+n+i;if(o.hasOwnProperty(s)){var c=o[s];t=w.ajaxdropdownfield(c,a),e(".ajax-dropdown-field-item_source_taxonomy_sub").empty(),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").slideDown("fast"),e(".ajax-dropdown-field-item_source_taxonomy_sub").append(t)}else{e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").addClass("transparent");var d=C("get_taxonomies_using_ajax",{parent:i,source_of_option:l,taxonomy_name:n,add_all_text:"true"});d.done((function(l){"false"===l.isempty?(o[s]=l.data,t=w.ajaxdropdownfield(l.data,a)):t='<li class="alert-message">'+l.message+"</li>",e(".ajax-dropdown-field-item_source_taxonomy_sub").empty(),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").slideDown("fast"),e(".ajax-dropdown-field-item_source_taxonomy_sub").append(t),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").removeClass("transparent")})),d.fail((function(a,l,n){t='<li class="alert-message">'+_()+"</li>",e(".ajax-dropdown-field-item_source_taxonomy_sub").empty(),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").slideDown("fast"),e(".ajax-dropdown-field-item_source_taxonomy_sub").append(t),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").removeClass("transparent")}))}}else e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").slideUp("fast")},changeIncludeExcludeFieldData:function(){var a="",l=[],n="",o="",i="",s=[],c=e('[name="source_of_options"]').val(),d=e('[name="item_display"]').val();if(!["attribute","category","taxonomy","tag","author"].includes(c)||"selected"!=d&&"except"!=d)e(".ajax-field-exclude").closest(".control-group").slideUp("fast"),e(".ajax-field-include").closest(".control-group").slideUp("fast");else{if("category"===c)n=e('[name="item_source_category"]').val(),i="product_cat",o="item_source_category";else if("attribute"===c)i=e('[name="item_source_attribute"]').val(),o="item_source_attribute";else if("taxonomy"===c)n=e('[name="item_source_taxonomy_sub"]').val(),i=e('[name="item_source_taxonomy"]').val(),o="item_source_taxonomy";else if("author"===c){var p=[],u=e('[name="user_roles"]').select2("data");e.each(u,(function(e,t){p.push(t.id)})),p.length&&(s=p)}var m="include";if("except"==d&&(m="exclude"),"item_panel"===v()){var f=h(e(".panel-group .item-panel").attr("data-filter-panel-id"));if(f){var g=f.source_of_options;l=("category"===g&&"category"===c&&n==f[n]||"taxonomy"===g&&"taxonomy"===c&&i==f[o]&&n==f[n]||"attribute"===g&&"attribute"===c&&f[o],f[m])}}var y="hierarchy"+c+n+i+o+s.toString();if(r.hasOwnProperty(y)){var b=r[y];a=t(m,b,l),e(".ajax-field-"+m).empty(),e(".ajax-field-"+m).closest(".control-group").slideDown("fast"),e(".ajax-field-"+m).append(a)}else{e(".ajax-field-"+m).closest(".control-group").addClass("transparent");var w=C("get_hierarchy_taxonomies_using_ajax",{source_of_option:c,taxonomy_name:i,parent:n,user_roles:s});w.done((function(n){"false"===n.isempty?(r[y]=n.data,a=t(m,n.data,l)):a='<li class="alert-message">'+n.message+"</li>",e(".ajax-field-"+m).empty(),e(".ajax-field-"+m).closest(".control-group").slideDown("fast"),e(".ajax-field-"+m).append(a),e(".ajax-field-"+m).closest(".control-group").removeClass("transparent")})),w.fail((function(t,l,n){a='<li class="alert-message">'+_()+"</li>",e(".ajax-field-"+m).empty(),e(".ajax-field-"+m).closest(".control-group").slideDown("fast"),e(".ajax-field-"+m).append(a),e(".ajax-field-"+m).closest(".control-group").removeClass("transparent")}))}}},changeboxlistlabel:function(){var t="",a=[],l=e('[name="source_of_options"]').val();if("meta"!==l&&"stock_status"!==l){if("item_panel"===v()){var n=h(e(".panel-group .item-panel").attr("data-filter-panel-id"));n&&(a=n.boxlistlabel)}var i=k.getSourceOptionsData();if(!1===i.doAjax){var r=i.data;t=w.boxlistlabelfields(r,a),e(".box-list-label-require-ajax").empty(),e(".box-list-label-require-ajax").append(t)}else{e(".box-list-label-require-ajax").closest(".control-group").addClass("transparent");var s=C("get_taxonomies_using_ajax",i.args);s.done((function(l){"false"===l.isempty?(o[i.cachedTaxonomyName]=l.data,t=w.boxlistlabelfields(l.data,a)):t='<li class="alert-message">'+l.message+"</li>",e(".box-list-label-require-ajax").closest(".control-group").removeClass("transparent"),e(".box-list-label-require-ajax").empty(),e(".box-list-label-require-ajax").append(t)})),s.fail((function(a,l,n){t='<li class="alert-message">'+_()+"</li>",e(".box-list-label-require-ajax").empty(),e(".box-list-label-require-ajax").append(t),e(".box-list-label-require-ajax").closest(".control-group").removeClass("transparent")}))}}},ajaxRuleDisplay:function(){var t=e(".display-rules-container").find("[data-select2-ajax-param]");if(t.length>0){var a=t.length,l=0;!function n(o){var r=e(o).attr("data-select2-ajax-param"),s=e(o).attr("data-select2-ajax-value");if(i.hasOwnProperty(r)){var c=w.displayRulesField.ruleOptgroup(i[r],s);e(o).empty().append(c).select2({width:"100%"}),e(o).closest(".rule").removeClass("transparent"),++l<a&&n(t[l])}else{C("get_group_taxonomies_using_ajax","",r).done((function(c){i[r]=c.data;var d=w.displayRulesField.ruleOptgroup(c.data,s);e(o).empty().append(d).select2({width:"100%"}),e(o).closest(".rule").removeClass("transparent"),++l<a&&n(t[l])}))}}(t[l])}},initEventRuleDisplayField:function(){e(".rule-group").each((function(){e(this).find(".rule").removeClass("last-rule").last().addClass("last-rule")})),e(".field-rule-param, .field-rule-equal,.field-rule-value-select2").on("change",(function(){j.addAttributeRequiredValidate("item_panel","true");var t=e(this).closest(".control-content").find(".alert-danger");t&&t.remove()})),e(".field-rule-value-select2").select2({width:"100%"})},initEditPanelEvent:function(){(e(".panel-colorlist").length>0&&k.fillAjaxColorFields(),e('[name="price_url_format"]').length)&&("dash"===e('[name="price_url_format"]:checked').val()?e('[name="url_key_min_price"], [name="url_key_max_price"]').closest(".control-group").hide():e('[name="url_key_min_price"], [name="url_key_max_price"]').closest(".control-group").show());e('[name="range_slider_url_format"]').length&&("dash"===e('[name="range_slider_url_format"]:checked').val()?e('[name="url_key_range_slider_min"], [name="url_key_range_slider_max"]').closest(".control-group").hide():e('[name="url_key_range_slider_min"], [name="url_key_range_slider_max"]').closest(".control-group").show());e('[name="display_toggle_content"]').is(":checked")?e('[name="default_toggle_state"]').closest(".control-group").show():e('[name="default_toggle_state"]').closest(".control-group").hide(),e('[name="display_title"]').is(":checked")?(e('[name="display_toggle_content"]').closest(".control-group").show(),e('[name="display_toggle_content"]').is(":checked")&&e('[name="default_toggle_state"]').closest(".control-group").show()):(e('[name="display_toggle_content"]').closest(".control-group").hide(),e('[name="default_toggle_state"]').closest(".control-group").hide());var t=e('[name="source_of_options"]').val();"meta"===t?(e('[name="meta_key"], [name="meta_compare"], [name="meta_type"], .pwf-meta-field-box').closest(".control-group").show(),e(".panel-item.item-panel").hasClass("panel-rangeslider")&&e('[name="range_slider_meta_source"]').closest(".control-group").show()):(e('[name="meta_key"], [name="meta_compare"], [name="meta_type"], .pwf-meta-field-box').closest(".control-group").hide(),e(".panel-item.item-panel").hasClass("panel-rangeslider")&&e('[name="range_slider_meta_source"]').closest(".control-group").hide()),"category"===t?e('[name="item_source_category"]').closest(".control-group").show():e('[name="item_source_category"]').closest(".control-group").hide(),"attribute"===t?e('[name="item_source_attribute"]').closest(".control-group").show():e('[name="item_source_attribute"]').closest(".control-group").hide(),"author"===t?e('[name="user_roles"]').closest(".control-group").slideDown("fast"):e('[name="user_roles"]').closest(".control-group").slideUp("fast"),"stock_status"===t?(e('[name="item_source_stock_status"]').closest(".control-group").show(),e('[name="in_stock_text"]').closest(".control-group").show(),e('[name="out_of_stock_text"]').closest(".control-group").show(),e('[name="on_backorder_text"]').closest(".control-group").show()):(e('[name="item_source_stock_status"]').closest(".control-group").hide(),e('[name="in_stock_text"]').closest(".control-group").hide(),e('[name="out_of_stock_text"]').closest(".control-group").hide(),e('[name="on_backorder_text"]').closest(".control-group").hide()),"stock_status"===t||"meta"===t?e(".pwf-box-list-label").closest(".control-group").slideUp("fast"):e(".pwf-box-list-label").closest(".control-group").slideDown("fast"),"orderby"===t?e('[name="item_source_orderby"]').closest(".control-group").show():e('[name="item_source_orderby"]').closest(".control-group").hide();["category","taxonomy","tag","attribute","author"].includes(t)?e('[name="item_display"]').closest(".control-group").show():e('[name="item_display"]').closest(".control-group").hide(),"taxonomy"===t?(e('[name="item_source_taxonomy"]').closest(".control-group").show(),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").show()):(e('[name="item_source_taxonomy"]').closest(".control-group").hide(),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").hide());["attribute","category","taxonomy","tag"].includes(t)?e('[name="order_by"]').closest(".control-group").show():e('[name="order_by"]').closest(".control-group").hide(),-1!==e.inArray(t,["category","taxonomy"])?(e('[name="display_hierarchical"]').closest(".control-group").show(),e('[name="display_hierarchical"]').is(":checked")?e('[name="display_hierarchical_collapsed"]').closest(".control-group").show():e('[name="display_hierarchical_collapsed"]').closest(".control-group").hide()):(e('[name="display_hierarchical"]').closest(".control-group").hide(),e('[name="display_hierarchical_collapsed"]').closest(".control-group").hide()),"on"===e('[name="multi_select"]:checked').val()?e('[name="query_type"]').closest(".control-group").show():e('[name="query_type"]').closest(".control-group").hide();var a=e('[name="more_options_by"]').val();(["scrollbar","morebutton"].includes(a)?e('[name="height_of_visible_content"]').closest(".control-group").show():e('[name="height_of_visible_content"]').closest(".control-group").hide(),e('[name="dropdown_style"]').length>0&&k.dropdownDisplayFields(e('[name="dropdown_style"]').val()),e('[name="inline_style"]').length>0&&(e('[name="inline_style"]').is(":checked")?e('[name="display_hierarchical"]').closest(".control-group").hide():e('[name="display_hierarchical"]').closest(".control-group").show()),e(".panel-colorlist").length>0&&e('[name="source_of_options"] option[value="stock_status"]').hide(),(e(".panel-checkboxlist").length>0||e(".panel-boxlist").length>0||e(".panel-colorlist").length>0||e(".panel-textlist").length>0)&&e('[name="source_of_options"] option[value="orderby"]').hide(),e(".pwf-select2").length>0&&e(".pwf-select2").select2(),e(".panel-item.item-panel").hasClass("panel-rangeslider"))&&("custom"===e('[name="range_slider_meta_source"]').val()?e('[name="meta_key"]').closest(".control-group").show():e('[name="meta_key"]').closest(".control-group").hide());k.displayParentOption(),k.changeTaxonomyDropdowList(),k.DisplayOrHideIncludeExludeFields(),k.changeIncludeExcludeFieldData(),k.ajaxRuleDisplay(),k.changeboxlistlabel()},dropdownDisplayFields:function(t){var a=e('[name="source_of_options"]').val();"plugin"===t?("orderby"===a||"stock_status"===a?e('[name="multi_select"]').closest(".control-group").slideUp("fast"):e('[name="multi_select"]').closest(".control-group").slideDown("fast"),"category"===a||"taxonomy"===a?(e('[name="display_hierarchical"]').closest(".control-group").slideDown("fast"),"on"===e('[name="multi_select"]:checked').val()?e('[name="query_type"]').closest(".control-group").slideDown("fast"):e('[name="query_type"]').closest(".control-group").slideUp("fast")):(e('[name="display_hierarchical"]').closest(".control-group").slideUp("fast"),e('[name="query_type"]').closest(".control-group").slideUp("fast"))):(e('[name="display_hierarchical"]').closest(".control-group").slideUp(),e('[name="multi_select"]').closest(".control-group").slideUp("fast"),e('[name="query_type"]').closest(".control-group").slideUp("fast"))}},P={createMetaFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(Array.isArray(t)||t.length){var a="";return t.forEach((function(t){a+=P.addMetaField(e,t,!1)})),a}},addMetaField:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="",o="",i="",r="";e.isEmptyObject(a)||(o=a.label,i=a.value,r=a.hasOwnProperty("slug")?a.slug:""),!1===l&&(n=" pwf-hide-meta-content");var s='<div class="pwf-meta-item'+n+'">';s+='<div class="pwf-meta-header">',s+='<div class="meta-title">';var c="Title";if(""!==o&&(c=o),s+=c,s+="</div>",s+='<div class="btn-actions">',s+='<span class="btn-link meta-edit pwf-meta-edit-action">'+p.edit+"</span>",s+='<span class="btn-link meta-close pwf-meta-edit-action">'+p.close+"</span>",s+='<span class="btn-link pwf-meta-remove-action">'+p.remove+"</span>",s+="</div>",s+="</div>",s+='<div class="pwf-meta-content">',s+=P.addTextInput(p.label,"metalabel","label",o),s+=P.addTextInput(p.slug,"metaslug","",r),s+=P.addTextInput(p.value,"metavalue","value",i,p.meta_value_desc),"colorlist"===t&&(s+='<div class="pwf-meta-inner color-list colors">'+P.addColorField(a)+"</div>"),s+="</div>",s+="</div>",!l)return s;e(".meta-field-items").append(s),P.refreshSort(),P.colorFieldEvent()},addTextInput:function(e,t,a,l){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o='<div class="pwf-meta-inner">';return o+='<div class="label-container"><span="label-text">'+e+"</span></div>",o+='<div class="input-container">',o+='<input placeholder="'+a+'" type="text" class="form-control full-width text" name="'+t+'" value="'+l+'"/>',o+=""===n?"":'<div class="pwf-meta-desc">'+n+"</div>",o+="</div>",o+="</div>"},addColorField:function(e){var t="",a=e.hasOwnProperty("color")?e.color:"",l=e.hasOwnProperty("image")?e.image:"",n=e.hasOwnProperty("type")?e.type:"",o=e.hasOwnProperty("bordercolor")?e.bordercolor:"",i=e.hasOwnProperty("marker")?e.marker:"light",r=Math.floor(1e5*Math.random());t+='<div class="color-item">',t+='<div class="color-inner">',t+='<div class="color-term-header">',t+='<div class="preview-term-container"><div class="preview-holder"'+("color"===n&&""!==a?" style=background-color:"+a:"")+">","image"===n&&""!==l&&(t+='<img class="preview-image" src="'+l+'">'),t+="</div></div>",t+="</div>",t+='<div class="color-term-content">',t+='<div class="inner-fields">';var s="color"===n?"":" hidden";t+='<div class="container list-container">',t+='<div class="color-container'+s+'">',t+='<div class="header"><span class="text">'+p.color+"</span></div>",t+='<div class="content">',t+='<input type="text" name="color" class="color-field" value="'+a+'"/>',t+="</div>",t+="</div>",t+='<div class="image-container'+(s="image"===n?"":" hidden")+'">',t+='<div class="header"><span class="text">'+p.image+"</span></div>",t+='<div class="content">',t+='<input type="text" name="image" class="text hidden image-field" value="'+l+'"/>',t+='<button class="button btn-upload-image">'+p.upload_image+"</button>",t+="</div>",t+="</div>",t+="</div>",t+='<div class="type-container list-container">',t+='<div class="header"><span class="text">'+p.type+"</span></div>",t+='<div class="content"><div class="radio-as-button">';var c="color"===n?" checked":"";return t+='<span class="field-type"><input type="radio" class="type-field" name="type'+r+'" value="color"'+c+'/> <label for="color">'+p.color+"</label></span>",t+='<span class="field-type"><input type="radio" class="type-field" name="type'+r+'" value="image"'+(c="image"===n?" checked":"")+'/> <label for="image">'+p.image+"</label></span>",t+="</div></div>",t+="</div>",t+="</div>",t+='<div class="inner-fields">',t+='<div class="border-container list-container">',t+='<div class="header"><span class="text">'+p.border+"</span></div>",t+='<div class="content"><div class="wrap-color">',t+='<input type="text" class="bordercolor-field" name="bordercolor" class="color-field" value="'+o+'"/>',t+="</div></div>",t+="</div>",t+='<div class="marker-container list-container">',t+='<div class="header"><span class="text">'+p.marker+"</span></div>",t+='<div class="content"><div class="radio-as-button">',t+='<span class="field-type"><input type="radio" class="marker-field" name="marker'+r+'" value="light"'+(c="light"===i?" checked":"")+'/> <label lass="field-type-text">'+p.marker_light+"</label></span>",t+='<span class="field-type"><input type="radio" class="marker-field" name="marker'+r+'" value="dark"'+(c="dark"===i?" checked":"")+'/> <label lass="field-type-text">'+p.marker_dark+"</label></span>",t+="</div></div>",t+="</div>",t+="</div>",t+="</div>",t+="</div>",t+="</div>"},removeMetaField:function(t){e(t).closest(".pwf-meta-item").remove()},editMetaField:function(t){e(t).closest(".pwf-meta-item").toggleClass("pwf-hide-meta-content")},sortEvent:function(){e(".meta-field-items").sortable({connectWith:".meta-field-items",handle:".pwf-meta-header",cancel:".pwf-meta-toggle",placeholder:"pwf-meta-placeholder"})},refreshSort:function(){e(".meta-field-items").sortable("refresh")},colorFieldEvent:function(){e(".pwf-meta-item .color-field").wpColorPicker({border:!0,change:function(t,a){e(this).closest(".color-item").find(".preview-image").length>0&&e(this).closest(".color-item").find(".preview-image").remove(),e(this).closest(".color-item").find(".preview-holder").css("background-color",a.color.toString()),j.addAttributeRequiredValidate("item_panel","true")}}),e(".pwf-meta-item .bordercolor-field").wpColorPicker({border:!0,change:function(e,t){j.addAttributeRequiredValidate("item_panel","true")}})}},j={addAttributeRequiredValidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;""===t&&(t=v()),"item_panel"===t?e(".panel-group .item-panel").attr("data-required-validate",a):e(".panel-group .setting-panel").attr("data-required-validate",a),"true"===a?"item_panel"===t?e(".panel-group .item-panel").find(".apply-panel-button").prop("disabled",!1):e(".panel-group .setting-panel").find(".apply-panel-button").prop("disabled",!1):"false"===a&&("item_panel"===t?e(".panel-group .item-panel").find(".apply-panel-button").prop("disabled",!0):e(".panel-group .setting-panel").find(".apply-panel-button").prop("disabled",!0))},hasPanelRequiredValidate:function(t){if("item_panel"===t)var a=e(".panel-group").find(".item-panel").attr("data-required-validate");else a=e(".panel-group").find(".setting-panel").attr("data-required-validate");return"true"===a},checkFieldHasValue:function(e){return void 0!==l(e)&&!1!==e&&""!==e?e:""},addActiveLoader:function(){e(".pwf-overlay").length>0?e(".pwf-overlay").removeClass("pwf-unactive").addClass("pwf-active"):e("body").prepend('<div class="pwf-overlay pwf-active"><span class="pwf-loader"></span></div>')},removeActiveLoader:function(){e(".pwf-overlay").removeClass("pwf-active").addClass("pwf-unactive")},processingPanel:function(){j.addActiveLoader();var e=!1,t=v();return j.hasPanelRequiredValidate(t)?j.validatePanelData(t)?(j.addAttributeRequiredValidate(t,"false"),j.savePanelData(t),e=!0):(alert(p.alert_message),j.addAttributeRequiredValidate(t,"true"),e=!1):e=!0,j.removeActiveLoader(),e},validatePanelData:function(t){var a=!0,n="";if("item_panel"===t){e(".option-panel-form .alert-danger").length>0&&e(".option-panel-form .alert-danger").remove();var o=e("form.option-panel-form :input");n=e(".option-panel-form").closest(".panel-item").attr("data-filter-panel-id")}else{e(".setting-panel-form .alert-danger").length>0&&e(".setting-panel-form .alert-danger").remove();o=e(".setting-panel-form :input")}var i=e(".item-panel").attr("data-panel-type");if("rangeslider"===i)"two"!==e('input[name="range_slider_url_format"]:checked').attr("value")?(e('input[name="url_key_range_slider_min"]').removeAttr("aria-required"),e('input[name="url_key_range_slider_max"]').removeAttr("aria-required")):(e('input[name="url_key_range_slider_min"]').attr("aria-required","true"),e('input[name="url_key_range_slider_max"]').attr("aria-required","true"));else if("priceslider"===i){"two"!==e('input[name="price_url_format"]:checked').attr("value")?(e('input[name="url_key_min_price"]').removeAttr("aria-required"),e('input[name="url_key_max_price"]').removeAttr("aria-required")):(e('input[name="url_key_min_price"]').attr("aria-required","true"),e('input[name="url_key_max_price"]').attr("aria-required","true"))}return o.each((function(t,o){var i=e(o).attr("aria-required");if("undefined"!==l(i)&&!1!==i){var r=e(o).val();if(!r)return a=!1,!e(o).closest(".control-content").find(".alert-danger").length>0&&e(o).closest(".control-content").append(m()),a;var s=e(o).attr("name");if(["url_key","url_key_min_price","url_key_max_price","url_key_date_before","url_key_date_after","url_key_range_slider_min","url_key_range_slider_max"].includes(s))if(!1===g.init(r,n))return a=!1,!e(o).closest(".control-content").find(".alert-danger").length>0&&e(o).closest(".control-content").append(f()),a}})),e(".option-panel-form").find('[name="item_source_stock_status"]').length&&e('[name="item_source_stock_status"]:checked').length<=0&&(a=!1,e('[name="item_source_stock_status"]').closest(".control-content").find(".alert-danger").length||e('[name="item_source_stock_status"]').closest(".control-content").append(m())),a},getValidatePanelData:function(t){var a={};return e(t).each((function(t,l){if("multicheckbox"===l.type||"ajaxmulticheckboxlist"===l.type){var n=[];e.each(e('input[name="'+l.param_name+'"]:checked'),(function(){n.push(e(this).val())})),a[l.param_name]=n}else if("switchbutton"===l.type){var o="";e('input[name="'+l.param_name+'"]').is(":checked")&&(o=e('input[name="'+l.param_name+'"]').val()),a[l.param_name]=o}else if("radio"===l.type){var i;i=e('input[name="'+l.param_name+'"]:checked').attr("value"),a[l.param_name]=i}else if("ajaxdropdownselect2"===l.type){var r=[],s=e('[name="'+l.param_name+'"]').select2("data");e.each(s,(function(e,t){r.push(t.id)})),a[l.param_name]=r}else{var c=e(".panel-group").find("[name="+l.param_name+"]").val();a[l.param_name]=c||""}})),a},savePanelData:function(t){if("item_panel"===t){var o=e(".panel-group .item-panel").attr("data-panel-type"),i=e(".panel-group .item-panel").attr("data-filter-panel-id"),r=x.getPanelFields(o),s=r.general,c=r.visual,p=e.merge(s,c),u=j.getValidatePanelData(p);if("meta"===u.source_of_options&&e(".meta-field-items").find(".pwf-meta-item").length>0){var m=[],f=e(".pwf-meta-item");e(f).each((function(t,a){var l=e(a).find('[name="metalabel"]').val(),n=e(a).find('[name="metaslug"]').val(),o=e(a).find('[name="metavalue"]').val();if(l.length&&o.length){var i={label:l,slug:n,value:o};e(".panel-colorlist").length>0&&(i.color=j.checkFieldHasValue(e(a).find(".color-field").val()),i.image=j.checkFieldHasValue(e(a).find(".image-field").val()),i.type=j.checkFieldHasValue(e(a).find(".type-field:checked").attr("value")),i.bordercolor=j.checkFieldHasValue(e(a).find(".bordercolor-field").val()),i.marker=j.checkFieldHasValue(e(a).find(".marker-field:checked").attr("value"))),m.push(i)}})),u.metafield=m}else u.metafield="";if("meta"!==u.source_of_options&&e(".panel-colorlist").length>0){var _=[];e(".color-item").each((function(t,a){var l=e(a).attr("term-id");if(l){var n={term_id:l,color:j.checkFieldHasValue(e(a).find(".color-field").val()),image:j.checkFieldHasValue(e(a).find(".image-field").val()),type:j.checkFieldHasValue(e(a).find(".type-field:checked").attr("value")),bordercolor:j.checkFieldHasValue(e(a).find(".bordercolor-field").val()),marker:j.checkFieldHasValue(e(a).find(".marker-field:checked").attr("value"))};_.push(n)}})),u.colors=_}else u.colors="";if(e(".panel-boxlist").length>0){var v=[];e(".lable-item").each((function(t,a){var n=e(a).find(".item-value").val(),o=e(a).attr("data-item-label-id");if(void 0!==l(n)&&!1!==n&&""!==n&&void 0!==l(o)&&!1!==o&&""!==o){var i={term_id:o,value:n};v.push(i)}})),u.boxlistlabel=v}if(e(".pwf-rule").length>0){var g=[];e(".pwf-rule").each((function(t,a){var l=e(a).find(".field-rule-param").val(),n=e(a).find(".field-rule-value-select2").val();if(""!==n){var o={param:l,value:n};g.push(o)}})),Array.isArray(g)&&g.length?u.hidden_rules=g:u.hidden_rules=""}u.item_type=o,n[i]=u,e(".filters-list").find("[data-filter-id="+i+"]").find(".filter-title").text(u.title)}else{var h=d.general,y=d.selectors,b=d.extra,w=d.responsive,k=e.merge(h,y);k=e.merge(k,b),k=e.merge(k,w);var P=j.getValidatePanelData(k),D=(a=P).post_title;e(".wp-heading-inline .heading-filter-title").length>0?e(".wp-heading-inline .heading-filter-title").text(D):e(".wp-heading-inline").append('<span class="heading-filter-title">'+D+"</span>")}}},D=0;function O(){if(j.processingPanel()){var t,o;o=function t(a){var o={};return e(a).each((function(a,i){var r=e(i).attr("data-filter-id"),s=e(i).attr("data-layout");if("undefined"!==l(s)&&!1!==s&&"column"===s){var c=n[r],d=e(i).find(".column-inner").first().children(".filter-item"),p="id-"+D;D++,!e.isEmptyObject(d)&&d.length>0?(c.children=t(d),o[p]=c):(c.children={},o[p]=c)}else o["id-"+D]=n[r],D++})),o}(e(".filters-list").children(".filter-item")),D=0,t={setting:a,items:o};var i="";return"edit"===c.current_screen&&(i=c.post_id),e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:"save_filter_post",nonce:c.nonce,data:JSON.stringify(t),post_id:i},beforeSend:function(){j.addActiveLoader(),e(".filters-btn").find(".message").length>0&&e(".filters-btn").find(".message").remove()}}).done((function(t){"true"===t.success?("edit"!==c.current_screen&&(c.current_screen="edit",c.post_id=t.post_id,function(e){if(c.hasOwnProperty("edit_link")){var t=c.edit_link;t=t.replace("post_id",e),window.location.href=t}}(t.post_id)),e(".filters-btn").prepend('<span class="message success-message">'+p.filter_post_updated+"</span>"),setTimeout((function(){e(".filters-btn").find(".message").remove()}),1e4)):e(".filters-btn").prepend('<span class="message error-message">'+t.message+"</span>")})).fail((function(t,a,l){e(".filters-btn").prepend('<span class="message error-message">'+p.error+" : "+l+"</span>")})).always((function(){j.removeActiveLoader()})),!1}}function C(t,a){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n={action:t,nonce:c.nonce};return"get_hierarchy_taxonomies_using_ajax"===t||"get_taxonomies_using_ajax"===t?(n.source_of_option=a.source_of_option,n.taxonomy_name=a.taxonomy_name,n.parent=a.parent,"get_taxonomies_using_ajax"===t&&a.hasOwnProperty("add_all_text")&&(n.add_all_text=a.add_all_text),a.hasOwnProperty("user_roles")&&(n.user_roles=a.user_roles)):"get_group_taxonomies_using_ajax"===t&&(n.source=l),e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:n})}if(c.hasOwnProperty("filter_meta")){var q=JSON.parse(c.filter_meta);""!==q.setting&&"false"!==q.setting&&(a=q.setting),""!==q.items&&null!==q.items?b.createFilterItems(q.items):b.initSortEvent(),k.initEditPanelEvent()}if("edit"===c.current_screen){var F=q.setting.post_title;e(".wp-heading-inline").append('<span class="heading-filter-title">'+F+"</span>")}!function(){var t;function a(t){t.includes("pagination")?(e('[name="pagination_selector"]').attr("aria-required","true"),e('[name="pagination_selector"]').closest(".control-group").show(),e('[name="pagination_ajax"]').closest(".control-group").slideDown(),e('[name="pagination_type"]').closest(".control-group").slideDown()):(e('[name="pagination_selector"]').closest(".control-group").hide(),e('[name="pagination_selector"]').removeAttr("aria-required"),e('[name="pagination_ajax"]').closest(".control-group").slideUp(),e('[name="pagination_type"]').closest(".control-group").slideUp()),t.includes("sorting")?(e('[name="sorting_selector"]').closest(".control-group").show(),e('[name="sorting_selector"]').attr("aria-required","true"),e('[name="sorting_ajax"]').closest(".control-group").slideDown()):(e('[name="sorting_selector"]').closest(".control-group").hide(),e('[name="sorting_selector"]').removeAttr("aria-required"),e('[name="sorting_ajax"]').closest(".control-group").slideUp()),t.includes("results_count")?(e('[name="result_count_selector"]').closest(".control-group").show(),e('[name="result_count_selector"]').attr("aria-required","true")):(e('[name="result_count_selector"]').closest(".control-group").hide(),e('[name="result_count_selector"]').removeAttr("aria-required"))}e(".pro-woo-filter").on("click",".reset-panel-button",(function(e){e.preventDefault(),x.resetPanel()})),e(".pro-woo-filter").on("click",".apply-panel-button",(function(e){e.preventDefault(),x.apply_panel_button()})),e(".pro-woo-filter").on("click",".filters-btn .add-item",(function(e){if(e.preventDefault(),j.processingPanel()){var t=(a="",l=p.select_filter_item,n=[{panelLabel:p.field,panelItems:[{id:"checkboxlist",text:p.checkboxlist},{id:"radiolist",text:p.radiolist},{id:"dropdownlist",text:p.dropdownlist},{id:"colorlist",text:p.colorlist},{id:"boxlist",text:p.boxlist},{id:"textlist",text:p.textlist},{id:"date",text:p.date},{id:"priceslider",text:p.priceslider},{id:"rangeslider",text:p.range_slider},{id:"rating",text:p.rating},{id:"search",text:p.search},{id:"button",text:p.button}]},{panelLabel:p.preset,panelItems:[{id:"productcategories",text:p.categories},{id:"stockstatus",text:p.stockstatus}]},{panelLabel:p.layout,panelItems:[{id:"column",text:p.column}]}],a+='<div class="panel-item panel-filter-type postbox status-active-panel">',a+='<div class="panel-container">',a+='<div class="panel-header">',a+='<div class="wrap-title"><span class="link-back">< '+p.btn_back+'</span><h2 class="panel-title">'+l+"</h2></div>",a+="</div>",n.forEach((function(e){a+='<div class="pwf-items-list">',a+='<div class="pwf-items-lable">'+e.panelLabel+"</div>",a+='<div class="pwf-items-content pwf-flex-content">',e.panelItems.forEach((function(e){a+='<div class="pwf-flex-item add-new-element" data-item-type="'+e.id+'"><div class="pwf-item-inner"><div class="filter-type-text">'+e.text+"</div></div></div>"})),a+="</div>",a+="</div>"})),a+="</div>",a+="</div>");x.displayPanel("additem",t)}var a,l,n})),e(".pro-woo-filter").on("click",".save-project",(function(e){e.preventDefault(),O()})),e(".pro-woo-filter").on("change input",".setting-panel-form :input, ul.list input",(function(t){t.preventDefault(),j.addAttributeRequiredValidate("setting_panel","true");var a=e(this).closest(".control-content").find(".alert-danger");a&&a.remove()})),e(".pro-woo-filter").on("change input click",".option-panel-form :input, .image-field, .type-field, .bordercolor-field, .marker-field, ul.list input",(function(t){var a=e(this).attr("name");if(!["url_key","url_key_min_price","url_key_max_price","url_key_date_before","url_key_date_after","url_key_range_slider_min","url_key_range_slider_max"].includes(a)){j.addAttributeRequiredValidate("item_panel","true");var l=e(this).closest(".control-content").find(".alert-danger");l&&l.remove()}})),e(".pro-woo-filter").on("click",".setting-panel .panel-header .nav-tab-heading",(function(t){t.preventDefault(),e(this).closest(".panel-container").find(".active-tab").removeClass("active-tab").addClass("active-tab");var a=e(this).attr("data-tab-id");e(this).closest(".panel-container").find(".tab-content").hide(),e(this).closest(".panel-container").find(".wrap-tabs").find("[data-tab-id="+a+"]").addClass("active-tab").show()})),e(".pro-woo-filter").on("click",".btn-actions .edit-action",(function(t){t.preventDefault(),x.editPanel(e(this))})),e(".pro-woo-filter").on("click",".btn-actions .remove-action",(function(t){if(t.preventDefault(),!0===confirm("Are you sure you want to remove this item?")){var a=e(this);b.removeItem(a)}})),e(".pro-woo-filter").on("click",".link-back",(function(e){e.preventDefault(),x.backLinkButton()})),e(".pro-woo-filter").on("click",".panel-group .add-new-element",(function(t){t.preventDefault();var a=e(this).attr("data-item-type"),l=b.generateFilterItemID();if("column"===a){var n=b.addNewColumn(l),o={panelType:a,FilterItemID:l,requireValidate:"true",predefinedPanel:""},i=x.init(o);x.displayPanel("additemtype",i,"",n)}else{var r={panelType:a,FilterItemID:l,requireValidate:"true",predefinedPanel:""};"productcategories"===a?(r.panelType="checkboxlist",r.predefinedPanel="productcategories"):"stockstatus"===a&&(r.panelType="radiolist",r.predefinedPanel="stockstatus");var s=x.init(r),c=b.addNewItem(r.panelType,l);x.displayPanel("additemtype",s,"",c)}})),e(".pro-woo-filter").on("change",".type-field",(function(t){"color"===e(this).val()?(e(this).closest(".inner-fields").find(".color-container").show(),e(this).closest(".inner-fields").find(".image-container").hide()):(e(this).closest(".inner-fields").find(".color-container").hide(),e(this).closest(".inner-fields").find(".image-container").show())})),e(".panel-group").on("change input click",":input",(function(e){j.addAttributeRequiredValidate("item_panel","true")})),e(".pro-woo-filter").on("click",".btn-upload-image",(function(a){a.preventDefault();var l=this;(t=wp.media.frames.metaImageFrame=wp.media({button:{text:p.upload_image}})).on("select",(function(){var a=t.state().get("selection").first().toJSON();e(l).closest(".image-container").find(".image-field").val(a.url).trigger("input"),e(l).closest(".color-item").find(".preview-image").length>0&&e(l).closest(".color-item").find(".preview-image").remove(),e(l).closest(".color-item").find(".preview-holder").append('<img class="preview-image" src="'+a.url+'">')})),t.open()})),e(".pro-woo-filter").on("click",".panel-container .panel-header .nav-tab-heading",(function(t){t.preventDefault(),e(this).closest(".panel-container").find(".active-tab").removeClass("active-tab"),e(this).addClass("active-tab");var a=e(this).attr("data-tab-id");e(this).closest(".panel-container").find(".tab-content").hide(),e(this).closest(".panel-container").find(".wrap-tabs").find("[data-tab-id="+a+"]").addClass("active-tab").show()})),e(".pro-woo-filter").on("click",".add-rule",(function(t){t.preventDefault(),j.addAttributeRequiredValidate("item_panel","true"),w.displayRulesField.addNewRule(e(this))})),e(".pro-woo-filter").on("click",".remove-rule",(function(t){t.preventDefault(),j.addAttributeRequiredValidate("item_panel","true"),w.displayRulesField.removeRule(e(this))})),e(".pro-woo-filter").on("change",'[name="user_roles"], [name="item_display"], [name="source_of_options"], [name="item_source_category"], [name="item_source_taxonomy_sub"], [name="item_source_attribute"], [name="item_source_taxonomy"]',(function(t){var a=e(this).attr("name");"source_of_options"!==a&&"item_source_taxonomy"!==a||k.changeTaxonomyDropdowList(),k.changeIncludeExcludeFieldData(),k.changeboxlistlabel(),e(".panel-colorlist").length>0&&k.fillAjaxColorFields()})),e(".pro-woo-filter").on("input",'[name="url_key"], [name="url_key_min_price"], [name="url_key_max_price"], [name="url_key_date_before"], [name="url_key_date_after"], [name="url_key_range_slider_min"], [name="url_key_range_slider_max"]',(function(t){t.preventDefault();var a=e(this).closest(".panel-item").attr("data-filter-panel-id");g.init(e(this).val(),a)?e(this).closest(".control-content").find(".alert-danger").length>0&&e(this).closest(".control-content").find(".alert-danger").remove():!e(this).closest(".control-content").find(".alert-danger").length>0&&e(this).closest(".control-content").append(f())})),e(".pro-woo-filter").on("change",".field-rule-param",(function(t){var a=this,l=e(this).val();if("category"===l){var n=c.product_categories;e(a).closest(".rule").find(".field-rule-value-select2").empty().select2({data:n,width:"100%"})}else if(i.hasOwnProperty(l))e(a).closest(".rule").find(".field-rule-value-select2").empty().select2({data:i[l],width:"100%"});else{var o=C("get_group_taxonomies_using_ajax","",l);o.done((function(t){i[l]=t.data,e(a).closest(".rule").find(".field-rule-value-select2").empty().select2({data:t.data,width:"100%"})})),o.fail((function(e,t,a){}))}})),e(".pro-woo-filter").on("change",'[name="price_url_format"]',(function(t){"dash"===e(this).val()?e('[name="url_key_min_price"], [name="url_key_max_price"]').closest(".control-group").slideUp("fast"):e('[name="url_key_min_price"], [name="url_key_max_price"]').closest(".control-group").slideDown("fast"),j.addAttributeRequiredValidate("","true")})),e(".pro-woo-filter").on("change",'[name="range_slider_url_format"]',(function(t){"dash"===e(this).val()?e('[name="url_key_range_slider_min"], [name="url_key_range_slider_max"]').closest(".control-group").slideUp("fast"):e('[name="url_key_range_slider_min"], [name="url_key_range_slider_max"]').closest(".control-group").slideDown("fast"),j.addAttributeRequiredValidate("","true")})),e(".pro-woo-filter").on("change",'[name="source_of_options"]',(function(t){var a=e(this).val();-1!==e.inArray(a,["category","taxonomy"])?(e('[name="display_hierarchical"]').closest(".control-group").slideDown("fast"),e('[name="display_hierarchical"]').is(":checked")&&e('[name="display_hierarchical_collapsed"]').closest(".control-group").slideDown("fast")):(e('[name="display_hierarchical"]').closest(".control-group").slideUp("fast"),e('[name="display_hierarchical_collapsed"]').closest(".control-group").slideUp("fast")),"meta"===a?(e('[name="meta_key"], [name="meta_compare"], [name="meta_type"], .pwf-meta-field-box').closest(".control-group").slideDown("fast"),e(".panel-item.item-panel").hasClass("panel-rangeslider")&&(e('[name="range_slider_meta_source"]').closest(".control-group").slideDown("fast"),e('[name="meta_key"]').closest(".control-group").slideUp("fast"))):(e('[name="meta_key"], [name="meta_compare"], [name="meta_type"], .pwf-meta-field-box').closest(".control-group").slideUp("fast"),e(".panel-item.item-panel").hasClass("panel-rangeslider")&&e('[name="range_slider_meta_source"]').closest(".control-group").slideUp("fast")),"category"===a?e('[name="item_source_category"]').closest(".control-group").slideDown("fast"):e('[name="item_source_category"]').closest(".control-group").slideUp("fast"),"attribute"===a?e('[name="item_source_attribute"]').closest(".control-group").slideDown("fast"):e('[name="item_source_attribute"]').closest(".control-group").slideUp("fast"),"author"===a?e('[name="user_roles"]').closest(".control-group").slideDown("fast"):e('[name="user_roles"]').closest(".control-group").slideUp("fast"),"taxonomy"===a?(e('[name="item_source_taxonomy"]').closest(".control-group").slideDown("fast"),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").slideDown("fast")):(e('[name="item_source_taxonomy"]').closest(".control-group").slideUp("fast"),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").slideUp("fast")),"stock_status"===a?(e('[name="item_source_stock_status"]').closest(".control-group").slideDown("fast"),e('[name="in_stock_text"]').closest(".control-group").slideDown("fast"),e('[name="out_of_stock_text"]').closest(".control-group").slideDown("fast"),e('[name="on_backorder_text"]').closest(".control-group").slideDown("fast"),e('[name="height_of_visible_content"]').closest(".control-group").hide()):(e('[name="item_source_stock_status"]').closest(".control-group").slideUp("fast"),e('[name="in_stock_text"]').closest(".control-group").slideUp("fast"),e('[name="out_of_stock_text"]').closest(".control-group").slideUp("fast"),e('[name="on_backorder_text"]').closest(".control-group").slideUp("fast"),e('[name="height_of_visible_content"]').closest(".control-group").show()),"stock_status"===a||"meta"===a?e(".pwf-box-list-label").closest(".control-group").slideUp("fast"):e(".pwf-box-list-label").closest(".control-group").slideDown("fast"),"orderby"===a?e('[name="item_source_orderby"]').closest(".control-group").slideDown("fast"):e('[name="item_source_orderby"]').closest(".control-group").slideUp("fast"),e('[name="dropdown_style"]').length>0&&k.dropdownDisplayFields(e('[name="dropdown_style"]').val());["category","taxonomy","tag","attribute","author"].includes(a)?e('[name="item_display"]').closest(".control-group").slideDown("fast"):e('[name="item_display"]').closest(".control-group").slideUp("fast"),j.addAttributeRequiredValidate("","true"),k.displayParentOption()})),e(".pro-woo-filter").on("change",'[name="display_hierarchical"]',(function(t){e(this).is(":checked")?e('[name="display_hierarchical_collapsed"]').closest(".control-group").slideDown("fast"):e('[name="display_hierarchical_collapsed"]').closest(".control-group").slideUp("fast")})),e(".pro-woo-filter").on("change",'[name="dropdown_style"]',(function(t){k.dropdownDisplayFields(e(this).val())})),e(".pro-woo-filter").on("change",'[name="inline_style"]',(function(t){e(this).is(":checked")?e('[name="display_hierarchical"]').closest(".control-group").slideUp("fast"):e('[name="display_hierarchical"]').closest(".control-group").slideDown("fast")})),e(".pro-woo-filter").on("change",'[name="display_title"]',(function(t){e(this).is(":checked")?(e('[name="display_toggle_content"]').closest(".control-group").slideDown("fast"),e('[name="display_toggle_content"]').is(":checked")&&e('[name="default_toggle_state"]').closest(".control-group").slideDown("fast")):(e('[name="display_toggle_content"]').closest(".control-group").slideUp("fast"),e('[name="default_toggle_state"]').closest(".control-group").slideUp("fast"))})),e(".pro-woo-filter").on("change",'[name="display_toggle_content"]',(function(t){e(this).is(":checked")?e('[name="default_toggle_state"]').closest(".control-group").slideDown("fast"):e('[name="default_toggle_state"]').closest(".control-group").slideUp("fast")})),e(".pro-woo-filter").on("click",".pwf-add-new-meta",(function(t){t.preventDefault();var a=e(".panel-group .item-panel").attr("data-panel-type");P.addMetaField(a)})),e(".pro-woo-filter").on("click",".pwf-meta-remove-action",(function(t){t.preventDefault(),P.removeMetaField(e(this))})),e(".pro-woo-filter").on("click",".pwf-meta-edit-action",(function(t){t.preventDefault(),P.editMetaField(e(this))})),e(".pro-woo-filter").on("change",'[name="multi_select"]',(function(t){"on"===e('[name="multi_select"]:checked').val()?e('[name="query_type"]').closest(".control-group").slideDown():e('[name="query_type"]').closest(".control-group").slideUp()})),e(".pro-woo-filter").on("change",'[name="more_options_by"]',(function(t){var a=e(this).val();["scrollbar","morebutton"].includes(a)?e('[name="height_of_visible_content"]').closest(".control-group").slideDown("fast"):e('[name="height_of_visible_content"]').closest(".control-group").slideUp("fast")})),e(".pro-woo-filter").on("change",'[name="usecomponents"]',(function(t){var l=[];e.each(e('input[name="usecomponents"]:checked'),(function(){l.push(e(this).val())})),a(l)}));var l=[];function n(t){"button"===t?e('[name="filter_button_state"]').closest(".control-group").slideDown("fast"):e('[name="filter_button_state"]').closest(".control-group").slideUp("fast")}function o(t){"on"===t?(e('[name="responsive_filtering_starts"]').closest(".control-group").slideDown("fast"),e('[name="responsive_append_sticky"]').closest(".control-group").slideDown("fast"),e('[name="responsive_width"]').closest(".control-group").slideDown("fast")):(e('[name="responsive_filtering_starts"]').closest(".control-group").slideUp("fast"),e('[name="responsive_append_sticky"]').closest(".control-group").slideUp("fast"),e('[name="responsive_width"]').closest(".control-group").slideUp("fast"))}function r(t){"on"===t?e('[name="shortcode_string"]').closest(".control-group").slideDown("fast"):e('[name="shortcode_string"]').closest(".control-group").slideUp("fast")}e.each(e('input[name="usecomponents"]:checked'),(function(){l.push(e(this).val())})),a(l),e(".pro-woo-filter").on("click","transparent",(function(e){e.preventDefault()})),e(".pro-woo-filter").on("change",'[name="display_filter_as"]',(function(t){n(e(this).val())})),e('[name="display_filter_as"]').length>0&&n(e('[name="display_filter_as"]').val()),e(".pro-woo-filter").on("change",'[name="responsive"]',(function(t){o(e('[name="responsive"]:checked').val())})),e('[name="responsive"]').length>0&&o(e('[name="responsive"]:checked').val()),e(".pro-woo-filter").on("change",'[name="is_shortcode"]',(function(t){r(e('[name="is_shortcode"]:checked').val())})),e('[name="is_shortcode"]').length>0&&r(e('[name="is_shortcode"]:checked').val()),e(".pro-woo-filter").on("change",'[name="range_slider_meta_source"]',(function(t){"custom"===e(this).val()?e('[name="meta_key"]').closest(".control-group").slideDown():e('[name="meta_key"]').closest(".control-group").slideUp()}))}()}(jQuery)}]);